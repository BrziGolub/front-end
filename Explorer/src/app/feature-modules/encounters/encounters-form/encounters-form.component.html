<form [formGroup]="encounterForm">
    <div>
        <mat-form-field>
            <mat-label>Name</mat-label>
            <input matInput formControlName="name" type="text"/>
        </mat-form-field>
        
        <mat-form-field>
            <mat-label>Description</mat-label>
            <textarea matInput
                cdkTextareaAutosize
                cdkAutosizeMinRows="1"
                formControlName="description"
                cdkAutosizeMaxRows="15">
            </textarea>
        </mat-form-field>
        <mat-form-field class="form-group">
            <mat-label>Experience points</mat-label>
            <input matInput type="number" formControlName="xpPoints" placeholder="Experience points" required>
        </mat-form-field>
        <mat-form-field class="form-group">
            <mat-label>Type:</mat-label>
            <mat-select formControlName="type" required>
              <mat-option value="SOCIAL">Social</mat-option>
              <mat-option value="LOCATION">Location</mat-option>
              <mat-option value="MISC">Misc</mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field class="form-group">
            <mat-label>Latitude</mat-label>
            <input matInput type="number" formControlName="latitude" placeholder="Latitude" required>
        </mat-form-field>
        <mat-form-field class="form-group">
            <mat-label>Longitude</mat-label>
            <input matInput type="number" formControlName="longitude" placeholder="Longitude" required>
        </mat-form-field>

        <div class="map-container">
            <app-map></app-map>
          </div>
    
        <span >
            <button *ngIf="!shouldEdit" mat-raised-button type="submit" color="primary" class="button" (click)="addEncounterDraft()">Save to draft</button>
            <button *ngIf="!shouldEdit" mat-raised-button type="submit" color="primary" class="button" (click)="addEncounter()">Post</button>
            <button *ngIf="shouldEdit && !shouldEditDraft" mat-raised-button type="submit" color="primary" class="button" (click)="updateEncounter()">Update</button>
            <button *ngIf="shouldEdit && shouldEditDraft" mat-raised-button type="submit" color="primary" class="button" (click)="updateEncounter()">Update draft</button>
            <button *ngIf="shouldEdit && shouldEditDraft" mat-raised-button type="submit" color="primary" class="button" (click)="postEncounterDraft()">Post</button>
        </span>
        
        
    </div>
</form>
